<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Esercizio sul flusso di cassa mensile:</title>
</head>
<body>
    <script>
        function gestisciFlussi() {
            let valoreCassaAttuale = parseFloat(prompt("Inserisci il valore iniziale del flusso di cassa:"));
            const numFlussi = parseInt(prompt("Quanti flussi di cassa vuoi inserire?"));

            for (let i=0; i<numFlussi; i++) {
                let segno = prompt("Inserisci il "+(i+1)+ "° segno per le entrate e le uscite(+,-):");
                let numValori = parseInt(prompt("Quanti valori vuoi inserire?"));
                const valori = [];
                valori.push(segno);

                for (let j=0; j<numValori; j++) {
                    let valore = parseFloat(prompt("Inserisci il "+(j+1)+ "° valore:"));
                    valori.push(valore);
                }
                valoreCassaAttuale = calcola(valoreCassaAttuale, ...valori);
                console.log("Valore della cassa dopo il " +(i+1)+ "° flusso: " +valoreCassaAttuale);
            }
        }
        function calcola(valoreCassaAttuale, ...valori) {
            let somma = 0;
            for (let i=1; i<valori.length; i++) {
                somma += valori[i];
            }
            if (valori[0] == "+") {
                return valoreCassaAttuale + somma;
            } else if (valori[0] == "-") {
                return valoreCassaAttuale - somma;
            } else {
                console.log("Segno errato!");
                return valoreCassaAttuale;
            }
        }
        gestisciFlussi()
    </script>
</body>
</html>
