<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Esercizio 2 Andamento Studente </title>
    </head>
    <body>
        <h1>Andamento Studente P.2</h1>
    </body>
    <script>
        // funzione per il confronto tra medie del primo e del secondo periodo
        function confrontaMedie() {
            if (arguments.length <= 1) {
                return "Nessun voto inserito nè per il primo periodio nè per il secondo periodo";
            }

            let mediaPrimoQuad = arguments[0];
            let somma = 0;
            let numeroVoti = arguments.length - 1; 
            for (let i = 1; i < arguments.length; i++) {
                somma += arguments[i];
            }

            let mediaSecondoQuad = somma / numeroVoti;
            if(mediaSecondoQuad < 6 && mediaSecondoQuad == mediaPrimoQuad) {
                return arr = [1,0]
            } else if(mediaSecondoQuad < 6 && mediaSecondoQuad < mediaPrimoQuad) {
                return arr = [0,1]
            } else if(mediaSecondoQuad >= 6 && mediaSecondoQuad < mediaPrimoQuad) {
                return arr = [1,1]
            } else if(mediaSecondoQuad >= 6 && mediaSecondoQuad > mediaPrimoQuad) {
                return arr = [0,0]
            }
        }
        // funzione per la gestione degli studenti
        function gestisciStudenti() {
            
            const studenti = [
            { nome: "Anna",  mediaPrimo: 7, votiSecondo: [6, 5, 7, 6] },
            { nome: "Luca",  mediaPrimo: 5.5, votiSecondo: [4, 5, 5] },
            { nome: "Marco", mediaPrimo: 5, votiSecondo: [5, 5, 5] },
            { nome: "Sara",  mediaPrimo: 7, votiSecondo: [8, 7, 9] },
            ];
            
            let contA = 0; // media 2° insufficiente
            let contB = 0; // insufficiente e inferiore
            let contC = 0; // sufficiente ma inferiore
            let contD = 0; // sufficiente e superiore
            
             for (let studente of studenti) {
                const [A, B] = confrontaMedie(studente.mediaPrimo, ...studente.votiSecondo);

                if (A == 1 && B == 0) {
                    contA++;
                } else if (A == 0 && B == 1) {
                    contB++;
                } else if (A == 1 && B == 1) {
                    contA++;
                    contC++;
                } else if (A == 0 && B == 0) {
                    contD++;
                }
            }

            console.log("Studenti con media 2° insufficiente:", contA);
            console.log("Studenti con media 2° insufficiente e inferiore alla 1°:", contB);
            console.log("Studenti con media 2° sufficiente ma inferiore alla 1°:", contC);
            console.log("Studenti con media 2° sufficiente e superiore alla 1°:", contD);
            }
        }    
       
        gestisciStudenti();
    </script>
</html>
